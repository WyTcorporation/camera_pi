–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Ñ—ñ–∑–∏—á–Ω–∏—Ö –∫–Ω–æ–ø–æ–∫ —Ç–∞ —Å–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥–∞ –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è
üìå –©–æ –±—É–¥–µ –∑—Ä–æ–±–ª–µ–Ω–æ:
–ö–Ω–æ–ø–∫–∞ –°—Ç–∞—Ä—Ç: –ø–æ—á–∞—Ç–æ–∫ –∑–∞–ø–∏—Å—É

–ö–Ω–æ–ø–∫–∞ –ü–∞—É–∑–∞: –ø—Ä–∏–∑—É–ø–∏–Ω–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É

–ö–Ω–æ–ø–∫–∞ –°—Ç–æ–ø: –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É

LED-—ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å—É

‚öôÔ∏è 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:
üìã –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:
3 √ó —Ç–∞–∫—Ç–æ–≤—ñ –∫–Ω–æ–ø–∫–∏ (–±—É–¥—å-—è–∫—ñ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 6—Ö6–º–º)

1 √ó —Å–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥ (—á–µ—Ä–≤–æ–Ω–∏–π –∞–±–æ –∑–µ–ª–µ–Ω–∏–π)

1 √ó —Ä–µ–∑–∏—Å—Ç–æ—Ä (220Œ© –¥–ª—è —Å–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥–∞)

–ü—Ä–æ–≤–æ–¥–∏ (Dupont, –º–∞–∫–µ—Ç–∫–∞)

‚ö° 2. –°—Ö–µ–º–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è GPIO:
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ñ—ñ–∑–∏—á–Ω—ñ –ø—ñ–Ω–∏ GPIO –Ω–∞ Raspberry Pi 5.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	GPIO BCM –Ω–æ–º–µ—Ä	–§—ñ–∑–∏—á–Ω–∏–π –ø—ñ–Ω
–°—Ç–∞—Ä—Ç	GPIO17	11
–ü–∞—É–∑–∞	GPIO22	15
–°—Ç–æ–ø	GPIO27	13
–°–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥	GPIO23	16
–ó–µ–º–ª—è (GND)	-	6,9,14,20,25

üéØ –§—ñ–∑–∏—á–Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:

Pi GPIO17 (–ø—ñ–Ω 11) ‚Üí –ö–Ω–æ–ø–∫–∞ –°—Ç–∞—Ä—Ç ‚Üí GND
Pi GPIO22 (–ø—ñ–Ω 15) ‚Üí –ö–Ω–æ–ø–∫–∞ –ü–∞—É–∑–∞ ‚Üí GND
Pi GPIO27 (–ø—ñ–Ω 13) ‚Üí –ö–Ω–æ–ø–∫–∞ –°—Ç–æ–ø ‚Üí GND
Pi GPIO23 (–ø—ñ–Ω 16) ‚Üí –†–µ–∑–∏—Å—Ç–æ—Ä 220Œ© ‚Üí (+) —Å–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥ (-) ‚Üí GND

–í–∞–∂–ª–∏–≤–æ:

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –ø—ñ–¥—Ç—è–≥—É—é—á—ñ —Ä–µ–∑–∏—Å—Ç–æ—Ä–∏ GPIO.
–ö–Ω–æ–ø–∫–∏ –ø—ñ–¥–∫–ª—é—á–∞—é—Ç—å—Å—è –¥–æ GPIO —ñ GND –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Ä–µ–∑–∏—Å—Ç–æ—Ä—ñ–≤.

üõ†Ô∏è 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ, –∞–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é):
–ü–µ—Ä–µ–≤—ñ—Ä, —â–æ –≤—Å–µ –ø—Ä–∞—Ü—é—î:

```

    sudo apt install python3-gpiozero
    python3 
```

–¢–µ—Å—Ç 

```
    from gpiozero import Button, LED
    from signal import pause
    
    btn_start = Button(17)
    btn_pause = Button(22)
    btn_stop = Button(27)
    led = LED(23)
    
    btn_start.when_pressed = lambda: print("–°—Ç–∞—Ä—Ç –Ω–∞—Ç–∏—Å–Ω—É—Ç–æ!")
    btn_pause.when_pressed = lambda: print("–ü–∞—É–∑–∞ –Ω–∞—Ç–∏—Å–Ω—É—Ç–æ!")
    btn_stop.when_pressed = lambda: print("–°—Ç–æ–ø –Ω–∞—Ç–∏—Å–Ω—É—Ç–æ!")
    
    led.on() # –°–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥ –∑–∞—Å–≤—ñ—Ç–∏—Ç—å—Å—è
    pause()
```
–ù–∞—Ç–∏—Å–∫–∞–π –∫–Ω–æ–ø–∫–∏ —ñ –ø–æ–±–∞—á–∏—à –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
LED –º–∞—î –∑–∞—Å–≤—ñ—Ç–∏—Ç–∏—Å—å.

üìú 4. –û—Å–Ω–æ–≤–Ω–∏–π Python-—Å–∫—Ä–∏–ø—Ç –∑–∞–ø–∏—Å—É –≤—ñ–¥–µ–æ:
–°—Ç–≤–æ—Ä–∏–º–æ –ø–∞–ø–∫—É —Ç–∞ —Å–∫—Ä–∏–ø—Ç:

```
    mkdir ~/video_recorder
    cd ~/video_recorder
    nano recorder.py
```

üñ•Ô∏è –ö–æ–¥ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç—É (recorder.py):

```
    import subprocess, os, signal, time
    from gpiozero import Button, LED
    from signal import pause
    
    # GPIO-–∫–Ω–æ–ø–∫–∏ —Ç–∞ LED
    btn_start = Button(17, bounce_time=0.2)
    btn_pause = Button(22, bounce_time=0.2)
    btn_stop = Button(27, bounce_time=0.2)
    led = LED(23)
    
    recording = False
    paused = False
    proc1 = proc2 = None
    
    def start_recording():
        global recording, proc1, proc2
        if recording:
            print("–ó–∞–ø–∏—Å –≤–∂–µ —Ç—Ä–∏–≤–∞—î.")
            return
    
        date = time.strftime("%Y-%m-%d_%H-%M-%S")
        folder = f"/mnt/usb/recording_{date}"
        os.makedirs(folder, exist_ok=True)
    
        cmd_cam1 = ["ffmpeg", "-f", "v4l2", "-framerate", "30",
                    "-video_size", "1920x1080", "-i", "/dev/video0",
                    "-c:v", "libx264", "-preset", "veryfast",
                    f"{folder}/cam1_{date}.mp4"]
    
        cmd_cam2 = ["ffmpeg", "-f", "v4l2", "-framerate", "30",
                    "-video_size", "1920x1080", "-i", "/dev/video1",
                    "-c:v", "libx264", "-preset", "veryfast",
                    f"{folder}/cam2_{date}.mp4"]
    
        proc1 = subprocess.Popen(cmd_cam1)
        proc2 = subprocess.Popen(cmd_cam2)
    
        recording = True
        led.on()
        print("–ó–∞–ø–∏—Å —Ä–æ–∑–ø–æ—á–∞—Ç–æ.")
    
    def pause_recording():
        global paused
        if recording and not paused:
            proc1.send_signal(signal.SIGSTOP)
            proc2.send_signal(signal.SIGSTOP)
            paused = True
            led.blink()
            print("–ó–∞–ø–∏—Å –Ω–∞ –ø–∞—É–∑—ñ.")
    
    def resume_recording():
        global paused
        if recording and paused:
            proc1.send_signal(signal.SIGCONT)
            proc2.send_signal(signal.SIGCONT)
            paused = False
            led.on()
            print("–ó–∞–ø–∏—Å –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–æ.")
    
    def stop_recording():
        global recording, paused
        if recording:
            proc1.terminate()
            proc2.terminate()
            recording = False
            paused = False
            led.off()
            print("–ó–∞–ø–∏—Å –∑—É–ø–∏–Ω–µ–Ω–æ.")
    
    # –ü—Ä–∏–≤'—è–∑–∫–∞ –∫–Ω–æ–ø–æ–∫
    btn_start.when_pressed = start_recording
    btn_pause.when_pressed = lambda: pause_recording() if not paused else resume_recording()
    btn_stop.when_pressed = stop_recording
    
    print("–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ —Ä–æ–±–æ—Ç–∏. –û—á—ñ–∫—É–≤–∞–Ω–Ω—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–æ–∫...")
    pause()

```

–ó–∞–ø—É—Å–∫ –¥–ª—è —Ç–µ—Å—Ç—É:
```
    python3 recorder.py
```

üöÄ 5. –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ –û–° (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

```sudo nano /etc/rc.local```

–î–æ–¥–∞–π –ø–µ—Ä–µ–¥ —Ä—è–¥–∫–æ–º exit 0:

```python3 /home/pi/video_recorder/recorder.py &```

üé¨ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏:
–ù–∞—Ç–∏—Å–∫–∞–π –∫–Ω–æ–ø–∫–∏ –°—Ç–∞—Ä—Ç, –ü–∞—É–∑–∞, –°—Ç–æ–ø.

–í—ñ–¥–µ–æ –ø–æ–≤–∏–Ω–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—å —É –ø–∞–ø–∫—É /mnt/usb.
